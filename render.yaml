# Este archivo define la infraestructura de tu aplicación en Render (Blueprint).
# Render detectará este archivo automáticamente cuando lo subas.
services:
  - type: web
    name: alexis-app-api
    # LA PROPIEDAD 'env' ha sido eliminada. Render inferirá el entorno
    # usando el 'buildCommand' de dotnet.
    region: oregon # La región donde quieres desplegar (puedes cambiarla)
    plan: starter # Plan (el plan gratuito/básico de Render)
    
    # === Comandos de Construcción y Arranque ===
    
    # Comando de Construcción (Build Command)
    # NOTA: Si el proyecto está en una subcarpeta llamada 'AlexisApp'
    # el comando DEBE ser: dotnet publish AlexisApp/AlexisApp.csproj -c Release -o output
    # Si la API es el proyecto 'LAB13-LOPINTAALEXIS', y está en la raíz, usamos:
    buildCommand: dotnet publish -c Release -o output
    
    # Comando de Inicio (Start Command)
    startCommand: dotnet output/LAB13-LOPINTAALEXIS.dll
    
    # Variables de Entorno (Environment Variables)
    # CRUCIAL para que ASP.NET Core escuche en el puerto dinámico de Render.
    envVars:
      - key: ASPNETCORE_URLS
        value: http://+:$PORT
